// load all of the blocks
console.log("Load Blockly");
require("./generators/functions.js");

// require("./blocks/string.js");
// require("./blocks/say.js");
require("./loadAllBlocks.js");

const blocklyDiv = document.getElementById('content');

module.exports.start = function () {

    var workspace = Blockly.inject(blocklyDiv,
        { toolbox: document.getElementById('toolbox') });

    function myUpdateFunction(event) {
        var code = Blockly.Functions.workspaceToCode(workspace);
        console.log("%c---------------------", "color: grey;");
        console.log(code);
        console.log("%c---------------------", "color: grey;");

    }
    workspace.addChangeListener(myUpdateFunction);

    window.workspace = workspace;
};