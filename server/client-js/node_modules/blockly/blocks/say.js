Blockly.Blocks['say'] = {
    init: function () {
        this.jsonInit({
            "message0": '/say %1',
            "args0": [
                {
                    "type": "input_value",
                    "name": "VALUE",
                    "check": "String"
                }
            ],
            "previousStatement": "Action",
            "nextStatement": "Action",
            "colour": 160,
            "tooltip": "Displays a message to multiple players.",
            "helpUrl": "https://minecraft.gamepedia.com/Commands/say"
        });
    }
};

Blockly.Functions["say"] = function (block) {
    // Search the text for a substring.
    let val = Blockly.Functions.valueToCode(block, 'VALUE', Blockly.Functions.ORDER_NONE) || "";

    let command = "/say " + val + "\n";
    return command;
};